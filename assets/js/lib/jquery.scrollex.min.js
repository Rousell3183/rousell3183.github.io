/* jquery.scrollex v0.2.1 | (c) @ajlkn | github.com/ajlkn/jquery.scrollex | MIT licensed */
!function(t){function e(t,e,n){return"string"==typeof t&&("%"==t.charAt(0)?e*(parseInt(t.substring(1))/100):parseInt(t))}function n(e){e=e||{};var n,o,i,s,r,a,l;if(e.direction=e.direction||(e.element?"top":"vertical"),e.direction){switch(e.direction){case"top":case"bottom":e.direction="vertical";break;case"left":case"right":e.direction="horizontal";break;default:}e.direction=="vertical"?e.bottomOffset=0:e.rightOffset=0;var c={};switch(n=e.enter||"top",o=e.leave===undefined?n:e.leave,i=e.initialize===undefined?true:e.initialize,s=e.terminate===undefined?true:e.terminate,r=e.scroll===undefined?true:e.scroll,n){case"top":c.enter={"top":"top","bottom":"top","left":"center","right":"center"};break;case"bottom":c.enter={"top":"bottom","bottom":"bottom","left":"center","right":"center"};break;case"left":c.enter={"top":"center","bottom":"center","left":"left","right":"left"};break;case"right":c.enter={"top":"center","bottom":"center","left":"right","right":"right"};break;case"top-left":c.enter={"top":"top","bottom":"top","left":"left","right":"left"};break;case"top-right":c.enter={"top":"top","bottom":"top","left":"right","right":"right"};break;case"bottom-left":c.enter={"top":"bottom","bottom":"bottom","left":"left","right":"left"};break;case"bottom-right":c.enter={"top":"bottom","bottom":"bottom","left":"right","right":"right"};break;case"center":default:c.enter={"top":"center","bottom":"center","left":"center","right":"center"};break}switch(o){case"top":c.leave={"top":"top","bottom":"top","left":"center","right":"center"};break;case"bottom":c.leave={"top":"bottom","bottom":"bottom","left":"center","right":"center"};break;case"left":c.leave={"top":"center","bottom":"center","left":"left","right":"left"};break;case"right":c.leave={"top":"center","bottom":"center","left":"right","right":"right"};break;case"top-left":c.leave={"top":"top","bottom":"top","left":"left","right":"left"};break;case"top-right":c.leave={"top":"top","bottom":"top","left":"right","right":"right"};break;case"bottom-left":c.leave={"top":"bottom","bottom":"bottom","left":"left","right":"left"};break;case"bottom-right":c.leave={"top":"bottom","bottom":"bottom","left":"right","right":"right"};break;case"center":default:c.leave={"top":"center","bottom":"center","left":"center","right":"center"};break}e.mode={enter:c.enter[e.direction],leave:c.leave[e.direction]}}return e}function o(e,n){try{return e.position()[n];} catch(o){return 0;}}var i=t(window),s=1,r={};t.fn.scrollex=function(e){var a=t(this);if(this.length>1){for(var l=0;l<this.length;l++)t(this[l]).scrollex(e);return a}if(0==this.length)return a;if(this.length>1){for(var l=0;l<this.length;l++)t(this[l]).scrollex(e);return a}if(r[this[0].id])return a;r[this[0].id]=!0;var c,u,h,f,d;switch(c=t(this),u=n(e),h=s++,f=!1,d=null,u.handler=function(t){var e=f?u.leave:u.enter;f="leave"==t;return e?e.apply(c):void 0},c.id=c.id?c.id:"scrollex-"+h,u.direction){case"vertical":u.scrollListener=function(t){var n=i.scrollTop(),s=n+i.height()/2,r=c.offset().top+e(u.topOffset,c.outerHeight()),a=c.outerHeight(),l=(r-e(u.topPad,a))+u.delay,h=(r+a+e(u.bottomPad,a))-u.delay;switch(u.mode.enter){case"top":l=r-e(u.topPad,a);break;case"center":l=r-e(u.topPad,a)+a/2;break;case"bottom":l=r-e(u.topPad,a)+a}switch(u.mode.leave){case"top":h=r-e(u.bottomPad,a);break;case"center":h=r-e(u.bottomPad,a)+a/2;break;case"bottom":h=r-e(u.bottomPad,a)+a}if(t>=l&&t<=h){if(f){if(u.triggerHide)return!0;if(d){window.clearTimeout(d);d=null}f=!1;u.handler("enter")}else if(u.persist||!f)return!0}else{if(!f){if(u.triggerHide)return!0;if(d){window.clearTimeout(d);d=null}f=!0;u.handler("leave")}else if(u.persist||f)return!0}return!1};break;case"horizontal":u.scrollListener=function(t){var n=i.scrollLeft(),s=n+i.width()/2,r=c.offset().left+e(u.leftOffset,c.outerWidth()),a=c.outerWidth(),l=(r-e(u.leftPad,a))+u.delay,h=(r+a+e(u.rightPad,a))-u.delay;switch(u.mode.enter){case"left":l=r-e(u.leftPad,a);break;case"center":l=r-e(u.leftPad,a)+a/2;break;case"right":l=r-e(u.leftPad,a)+a}switch(u.mode.leave){case"left":h=r-e(u.rightPad,a);break;case"center":h=r-e(u.rightPad,a)+a/2;break;case"right":h=r-e(u.rightPad,a)+a}if(s>=l&&s<=h){if(f){if(u.triggerHide)return!0;if(d){window.clearTimeout(d);d=null}f=!1;u.handler("enter")}else if(u.persist||!f)return!0}else{if(!f){if(u.triggerHide)return!0;if(d){window.clearTimeout(d);d=null}f=!0;u.handler("leave")}else if(u.persist||f)return!0}return!1};break;default:}return i.off("scroll."+c.id).on("scroll."+c.id,function(){var t=i.scrollTop(),e=i.scrollLeft();return u.scrollListener(u.direction=="vertical"?t:e)?!0:void 0}),i.on("load."+c.id,function(){i.trigger("scroll")}),u.initialize&&u.initialize.apply(c),a}}(jQuery);

