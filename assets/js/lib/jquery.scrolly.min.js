/* jquery.scrolly v1.0.0-dev | (c) @ajlkn | MIT licensed */
(function(e){function u(s,o){var u,a,f;if((u=e(s))[0]==null)return n;a=u.offset().top-o.offset;f=o.scrollTop();return f>=a?f-a:0}var t=e(window);var n=0;e.fn.scrolly=function(r){var i,s;if(this.length==0)return n;i=e.extend({offset:0,mode:"top",speed:1000,easing:"swing"},r);s=this.eq(0).closest("html,body");return this.each(function(){var o,f=e(this),l=i.offset,c=f.offset();o=function(e){var t=f.offset().top-l;if(i.mode=="top"){t=c.top-l}return Math.max(0,t)};f._scrolly_from=function(){return u(f,s)};f._scrolly_to=o;f.bind("click",function(n){var r,u,a,l,c,h,p;n.preventDefault();r=f._scrolly_to();u=i.mode=="top"?f._scrolly_from():0;a=typeof f.data("scrolly-easing")!="undefined"?f.data("scrolly-easing"):i.easing;l=typeof f.data("scrolly-duration")!="undefined"?f.data("scrolly-duration"):i.speed;c=typeof f.data("scrolly-after")!="undefined"?f.data("scrolly-after"):null;t.trigger("scroll");h={top:u};p={top:r};e.scrollTo.window().queue([]).stop();e.scrollTo.window().animate(p,l,a,function(){if(typeof c=="string"){window.location.href=c}else if(c){c()}});return false})})}})(jQuery);(function(e){var t=e.scrollTo=function(n,r,i){e(window).scrollTo(n,r,i)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:true};t.window=function(t){return e(window)._scrollable()};e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||r.compatMode=="BackCompat"?r.body:r.documentElement})};e.fn.scrollTo=function(n,r,i){if(typeof r=="object"){i=r;r=0}if(typeof i=="function")i={onAfter:i};if(n=="max")n=9e9;i=e.extend({},t.defaults,i);r=r||i.duration;i.queue=i.queue&&i.axis.length>1;if(i.queue)r/=2;i.offset=both(i.offset);i.over=both(i.over);return this._scrollable().each(function(){if(n==null)return;var s=this,o=e(s),u=n,a,f=o.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=both(u);break}u=e(u,this);if(!u.length)return;case"object":if(u.is||u.style)a=(u=e(u)).offset()}e.each(i.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",l=r.toLowerCase(),c="scroll"+r,h=s[c],p=t.max(s,n);if(a){i.offset[l]=a[l]+(f?0:h-o.offset()[l]);if(i.over[n])i.offset[l]-=u[n=="x"?"width":"height"]()*i.over[n]}else{var d=u[l];i.offset[l]=d&&d.slice&&d.slice(-1)=="%"?parseFloat(d)/100*p:d}if(i.limit&&/^\d+$/.test(i.limit[l]))i.limit[l]=i.limit[l]&&i.limit[l-2]||0;if(!e&&i.queue){if(h!=i.offset[l])animate(i.onAfterFirst);delete i.offset[l]}});animate(i.onAfter);function animate(t){o.animate(i.offset,r,i.easing,t&&function(){t.call(this,n,i)})}}).end()};t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])};function both(t){return typeof t=="object"?t:{top:t,left:t}}})(jQuery);

